#!/bin/bash

#
# configure --
#
# configure and generate the project script files 
#
#   - Generates a config header file for scripts the 
#     with various settings.
#   - Creating the actual script files from the src/template.* 
#     files is now done by the build.sh script (2014-08-07).


#this is the equiv of config.h
CONFIG_HEADER="config"



echo "#autogenerated config from configuration script" > $CONFIG_HEADER
echo " " > $CONFIG_HEADER.tmp
cat $CONFIG_HEADER.tmp $CONFIG_HEADER.defs > $CONFIG_HEADER

if [ -e $CONFIG_HEADER.tmp ]; then
  unlink $CONFIG_HEADER.tmp
fi 

printf "Determining location of rsync."
rrep -qs -E '^RSYNC_BIN=.*$' "RSYNC_BIN=\"`which rsync`\"" $CONFIG_HEADER
echo "done."

printf "\nPRJSYNC_REMOTE_TARGET_PATH=\"/home/\$REMOTE_USERNAME/projects\"\n" >> $CONFIG_HEADER


echo "Configuration done."



